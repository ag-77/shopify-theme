function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,o){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(t){o(t)}):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t.EasyZoom=o(require("jquery")):t.EasyZoom=o(t.jQuery)}(this,function(e){"use strict";var d,l,p,c,i,n,s={loadingNotice:"Loading image",errorNotice:"The image could not be loaded",errorDuration:2500,linkAttribute:"href",preventClicks:!0,beforeShow:e.noop,beforeHide:e.noop,onShow:e.noop,onHide:e.noop,onMove:e.noop};function a(t,o){this.$target=e(t),this.opts=e.extend({},s,o,this.$target.data()),void 0===this.isOpen&&this._init()}return a.prototype._init=function(){this.$link=this.$target.find("a"),this.$image=this.$target.find("img"),this.$flyout=e('<div class="easyzoom-flyout" />'),this.$notice=e('<div class="easyzoom-notice" />'),this.$target.on({"mousemove.easyzoom touchmove.easyzoom":e.proxy(this._onMove,this),"mouseleave.easyzoom touchend.easyzoom":e.proxy(this._onLeave,this),"mouseenter.easyzoom touchstart.easyzoom":e.proxy(this._onEnter,this)}),this.opts.preventClicks&&this.$target.on("click.easyzoom",function(t){t.preventDefault()})},a.prototype.show=function(t,o){var i=this;if(!1!==this.opts.beforeShow.call(this)){if(!this.isReady)return this._loadImage(this.$link.attr(this.opts.linkAttribute),function(){!i.isMouseOver&&o||i.show(t)});this.$target.append(this.$flyout);var e=this.$target.outerWidth(),n=this.$target.outerHeight(),s=this.$flyout.width(),a=this.$flyout.height(),h=this.$zoom.width(),r=this.$zoom.height();(d=h-s)<0&&(d=0),(l=r-a)<0&&(l=0),p=d/e,c=l/n,this.isOpen=!0,this.opts.onShow.call(this),t&&this._move(t)}},a.prototype._onEnter=function(t){var o=t.originalEvent.touches;this.isMouseOver=!0,o&&1!=o.length||(t.preventDefault(),this.show(t,!0))},a.prototype._onMove=function(t){this.isOpen&&(t.preventDefault(),this._move(t))},a.prototype._onLeave=function(){this.isMouseOver=!1,this.isOpen&&this.hide()},a.prototype._onLoad=function(t){t.currentTarget.width&&(this.isReady=!0,this.$notice.detach(),this.$flyout.html(this.$zoom),this.$target.removeClass("is-loading").addClass("is-ready"),t.data.call&&t.data())},a.prototype._onError=function(){var t=this;this.$notice.text(this.opts.errorNotice),this.$target.removeClass("is-loading").addClass("is-error"),this.detachNotice=setTimeout(function(){t.$notice.detach(),t.detachNotice=null},this.opts.errorDuration)},a.prototype._loadImage=function(t,o){var i=new Image;this.$target.addClass("is-loading").append(this.$notice.text(this.opts.loadingNotice)),this.$zoom=e(i).on("error",e.proxy(this._onError,this)).on("load",o,e.proxy(this._onLoad,this)),i.style.position="absolute",i.src=t},a.prototype._move=function(t){n=0===t.type.indexOf("touch")?(o=t.touches||t.originalEvent.touches,i=o[0].pageX,o[0].pageY):(i=t.pageX||i,t.pageY||n);var o=this.$target.offset(),t=n-o.top,o=i-o.left,t=Math.ceil(t*c),o=Math.ceil(o*p);o<0||t<0||d<o||l<t?this.hide():(t=-1*t,o=-1*o,this.$zoom.css({top:t,left:o}),this.opts.onMove.call(this,t,o))},a.prototype.hide=function(){this.isOpen&&!1!==this.opts.beforeHide.call(this)&&(this.$flyout.detach(),this.isOpen=!1,this.opts.onHide.call(this))},a.prototype.swap=function(t,o,i){this.hide(),this.isReady=!1,this.detachNotice&&clearTimeout(this.detachNotice),this.$notice.parent().length&&this.$notice.detach(),this.$target.removeClass("is-loading is-ready is-error"),this.$image.attr({src:t,srcset:e.isArray(i)?i.join():i}),this.$link.attr(this.opts.linkAttribute,o)},a.prototype.teardown=function(){this.hide(),this.$target.off(".easyzoom").removeClass("is-loading is-ready is-error"),this.detachNotice&&clearTimeout(this.detachNotice),delete this.$link,delete this.$zoom,delete this.$image,delete this.$notice,delete this.$flyout,delete this.isOpen,delete this.isReady},e.fn.easyZoom=function(o){return this.each(function(){var t=e.data(this,"easyZoom");t?void 0===t.isOpen&&t._init():e.data(this,"easyZoom",new a(this,o))})},a}),"function"!=typeof Object.create&&(Object.create=function(t){function o(){}return o.prototype=t,new o}),function(a){var i={init:function(t,o){var i=this;i.elem=o,i.$elem=a(o),i.imageSrc=i.$elem.data("zoom-image")?i.$elem.data("zoom-image"):i.$elem.attr("src"),i.options=a.extend({},a.fn.elevateZoom.options,t),i.options.tint&&(i.options.lensColour="none",i.options.lensOpacity="1"),"inner"==i.options.zoomType&&(i.options.showLens=!1),i.$elem.parent().removeAttr("title").removeAttr("alt"),i.zoomImage=i.imageSrc,i.refresh(1),a("#"+i.options.gallery+" a").click(function(t){return i.options.galleryActiveClass&&(a("#"+i.options.gallery+" a").removeClass(i.options.galleryActiveClass),a(this).addClass(i.options.galleryActiveClass)),t.preventDefault(),a(this).data("zoom-image")?i.zoomImagePre=a(this).data("zoom-image"):i.zoomImagePre=a(this).data("image"),i.swaptheimage(a(this).data("image"),i.zoomImagePre),!1})},refresh:function(t){var o=this;setTimeout(function(){o.fetch(o.imageSrc)},t||o.options.refresh)},fetch:function(t){var o=this,i=new Image;i.onload=function(){o.largeWidth=i.width,o.largeHeight=i.height,o.startZoom(),o.currentImage=o.imageSrc,o.options.onZoomedImageLoaded(o.$elem)},i.src=t},startZoom:function(){var t,i=this;i.nzWidth=i.$elem.width(),i.nzHeight=i.$elem.height(),i.isWindowActive=!1,i.isLensActive=!1,i.isTintActive=!1,i.overWindow=!1,i.options.imageCrossfade&&(i.zoomWrap=i.$elem.wrap('<div style="height:'+i.nzHeight+"px;width:"+i.nzWidth+'px;" class="zoomWrapper" />'),i.$elem.css("position","absolute")),i.zoomLock=1,i.scrollingLock=!1,i.changeBgSize=!1,i.currentZoomLevel=i.options.zoomLevel,i.nzOffset=i.$elem.offset(),i.widthRatio=i.largeWidth/i.currentZoomLevel/i.nzWidth,i.heightRatio=i.largeHeight/i.currentZoomLevel/i.nzHeight,"window"==i.options.zoomType&&(i.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(i.options.zoomWindowBgColour)+";width: "+String(i.options.zoomWindowWidth)+"px;height: "+String(i.options.zoomWindowHeight)+"px;float: left;background-size: "+i.largeWidth/i.currentZoomLevel+"px "+i.largeHeight/i.currentZoomLevel+"px;display: none;z-index:100;border: "+String(i.options.borderSize)+"px solid "+i.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==i.options.zoomType&&(t=i.$elem.css("border-left-width"),i.zoomWindowStyle="overflow: hidden;margin-left: "+String(t)+";margin-top: "+String(t)+";background-position: 0px 0px;width: "+String(i.nzWidth)+"px;height: "+String(i.nzHeight)+"px;float: left;display: none;cursor:"+i.options.cursor+";px solid "+i.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"window"==i.options.zoomType&&(lensHeight=i.nzHeight<i.options.zoomWindowWidth/i.widthRatio?i.nzHeight:String(i.options.zoomWindowHeight/i.heightRatio),lensWidth=i.largeWidth<i.options.zoomWindowWidth?i.nzWidth:i.options.zoomWindowWidth/i.widthRatio,i.lensStyle="background-position: 0px 0px;width: "+String(i.options.zoomWindowWidth/i.widthRatio)+"px;height: "+String(i.options.zoomWindowHeight/i.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+i.options.lensOpacity+";filter: alpha(opacity = "+100*i.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+i.options.lensColour+";cursor:"+i.options.cursor+";border: "+i.options.lensBorderSize+"px solid "+i.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),i.tintStyle="display: block;position: absolute;background-color: "+i.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+i.nzWidth+"px;height: "+i.nzHeight+"px;",i.lensRound="","lens"==i.options.zoomType&&(i.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(i.options.borderSize)+"px solid "+i.options.borderColour+";width:"+String(i.options.lensSize)+"px;height:"+String(i.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==i.options.lensShape&&(i.lensRound="border-top-left-radius: "+String(i.options.lensSize/2+i.options.borderSize)+"px;border-top-right-radius: "+String(i.options.lensSize/2+i.options.borderSize)+"px;border-bottom-left-radius: "+String(i.options.lensSize/2+i.options.borderSize)+"px;border-bottom-right-radius: "+String(i.options.lensSize/2+i.options.borderSize)+"px;"),i.zoomContainer=a('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+i.nzOffset.left+"px;top:"+i.nzOffset.top+"px;height:"+i.nzHeight+"px;width:"+i.nzWidth+'px;"></div>'),a("body").append(i.zoomContainer),i.options.containLensZoom&&"lens"==i.options.zoomType&&i.zoomContainer.css("overflow","hidden"),"inner"!=i.options.zoomType&&(i.zoomLens=a("<div class='zoomLens' style='"+i.lensStyle+i.lensRound+"'>&nbsp;</div>").appendTo(i.zoomContainer).click(function(){i.$elem.trigger("click")}),i.options.tint&&(i.tintContainer=a("<div/>").addClass("tintContainer"),i.zoomTint=a("<div class='zoomTint' style='"+i.tintStyle+"'></div>"),i.zoomLens.wrap(i.tintContainer),i.zoomTintcss=i.zoomLens.after(i.zoomTint),i.zoomTintImage=a('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+i.nzWidth+"px; height: "+i.nzHeight+'px;" src="'+i.imageSrc+'">').appendTo(i.zoomLens).click(function(){i.$elem.trigger("click")}))),isNaN(i.options.zoomWindowPosition)?i.zoomWindow=a("<div style='z-index:999;left:"+i.windowOffsetLeft+"px;top:"+i.windowOffsetTop+"px;"+i.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){i.$elem.trigger("click")}):i.zoomWindow=a("<div style='z-index:999;left:"+i.windowOffsetLeft+"px;top:"+i.windowOffsetTop+"px;"+i.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(i.zoomContainer).click(function(){i.$elem.trigger("click")}),i.zoomWindowContainer=a("<div/>").addClass("zoomWindowContainer").css("width",i.options.zoomWindowWidth),i.zoomWindow.wrap(i.zoomWindowContainer),"lens"==i.options.zoomType&&i.zoomLens.css({backgroundImage:"url('"+i.imageSrc+"')"}),"window"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+i.imageSrc+"')"}),"inner"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+i.imageSrc+"')"}),i.$elem.bind("touchmove",function(t){t.preventDefault(),i.setPosition(t.originalEvent.touches[0]||t.originalEvent.changedTouches[0])}),i.zoomContainer.bind("touchmove",function(t){"inner"==i.options.zoomType&&i.showHideWindow("show"),t.preventDefault(),i.setPosition(t.originalEvent.touches[0]||t.originalEvent.changedTouches[0])}),i.zoomContainer.bind("touchend",function(t){i.showHideWindow("hide"),i.options.showLens&&i.showHideLens("hide"),i.options.tint&&"inner"!=i.options.zoomType&&i.showHideTint("hide")}),i.$elem.bind("touchend",function(t){i.showHideWindow("hide"),i.options.showLens&&i.showHideLens("hide"),i.options.tint&&"inner"!=i.options.zoomType&&i.showHideTint("hide")}),i.options.showLens&&(i.zoomLens.bind("touchmove",function(t){t.preventDefault(),i.setPosition(t.originalEvent.touches[0]||t.originalEvent.changedTouches[0])}),i.zoomLens.bind("touchend",function(t){i.showHideWindow("hide"),i.options.showLens&&i.showHideLens("hide"),i.options.tint&&"inner"!=i.options.zoomType&&i.showHideTint("hide")})),i.$elem.bind("mousemove",function(t){0==i.overWindow&&i.setElements("show"),i.lastX===t.clientX&&i.lastY===t.clientY||(i.setPosition(t),i.currentLoc=t),i.lastX=t.clientX,i.lastY=t.clientY}),i.zoomContainer.bind("mousemove",function(t){0==i.overWindow&&i.setElements("show"),i.lastX===t.clientX&&i.lastY===t.clientY||(i.setPosition(t),i.currentLoc=t),i.lastX=t.clientX,i.lastY=t.clientY}),"inner"!=i.options.zoomType&&i.zoomLens.bind("mousemove",function(t){i.lastX===t.clientX&&i.lastY===t.clientY||(i.setPosition(t),i.currentLoc=t),i.lastX=t.clientX,i.lastY=t.clientY}),i.options.tint&&"inner"!=i.options.zoomType&&i.zoomTint.bind("mousemove",function(t){i.lastX===t.clientX&&i.lastY===t.clientY||(i.setPosition(t),i.currentLoc=t),i.lastX=t.clientX,i.lastY=t.clientY}),"inner"==i.options.zoomType&&i.zoomWindow.bind("mousemove",function(t){i.lastX===t.clientX&&i.lastY===t.clientY||(i.setPosition(t),i.currentLoc=t),i.lastX=t.clientX,i.lastY=t.clientY}),i.zoomContainer.add(i.$elem).mouseenter(function(){0==i.overWindow&&i.setElements("show")}).mouseleave(function(){i.scrollLock||i.setElements("hide")}),"inner"!=i.options.zoomType&&i.zoomWindow.mouseenter(function(){i.overWindow=!0,i.setElements("hide")}).mouseleave(function(){i.overWindow=!1}),i.minZoomLevel=i.options.minZoomLevel||2*i.options.scrollZoomIncrement,i.options.scrollZoom&&i.zoomContainer.add(i.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(t){i.scrollLock=!0,clearTimeout(a.data(this,"timer")),a.data(this,"timer",setTimeout(function(){i.scrollLock=!1},250));var o=t.originalEvent.wheelDelta||-1*t.originalEvent.detail;return t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),0<o/120?i.currentZoomLevel>=i.minZoomLevel&&i.changeZoomLevel(i.currentZoomLevel-i.options.scrollZoomIncrement):(!i.options.maxZoomLevel||i.currentZoomLevel<=i.options.maxZoomLevel)&&i.changeZoomLevel(parseFloat(i.currentZoomLevel)+i.options.scrollZoomIncrement),!1})},setElements:function(t){if(!this.options.zoomEnabled)return!1;"show"==t&&this.isWindowSet&&("inner"==this.options.zoomType&&this.showHideWindow("show"),"window"==this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner"!=this.options.zoomType&&this.showHideTint("show")),"hide"==t&&("window"==this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide"))},setPosition:function(t){if(!this.options.zoomEnabled)return!1;this.nzHeight=this.$elem.height(),this.nzWidth=this.$elem.width(),this.nzOffset=this.$elem.offset(),this.options.tint&&"inner"!=this.options.zoomType&&(this.zoomTint.css({top:0}),this.zoomTint.css({left:0})),this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.largeWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens"!=this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight),this.options.tint&&(this.zoomTintImage.css("width",this.nzWidth),this.zoomTintImage.css("height",this.nzHeight))),"lens"==this.options.zoomType&&this.zoomLens.css({width:String(this.options.lensSize)+"px",height:String(this.options.lensSize)+"px"})),this.zoomContainer.css({top:this.nzOffset.top}),this.zoomContainer.css({left:this.nzOffset.left}),this.mouseLeft=parseInt(t.pageX-this.nzOffset.left),this.mouseTop=parseInt(t.pageY-this.nzOffset.top),"window"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.zoomLens.height()/2,this.Eboppos=this.mouseTop>this.nzHeight-this.zoomLens.height()/2-2*this.options.lensBorderSize,this.Eloppos=this.mouseLeft<0+this.zoomLens.width()/2,this.Eroppos=this.mouseLeft>this.nzWidth-this.zoomLens.width()/2-2*this.options.lensBorderSize),"inner"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/2/this.heightRatio,this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<0+this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize),this.mouseLeft<=0||this.mouseTop<0||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=String(this.mouseLeft-this.zoomLens.width()/2),this.lensTopPos=String(this.mouseTop-this.zoomLens.height()/2)),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.tintpos=this.lensLeftPos=this.windowLeftPos=0),"window"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"==this.options.zoomType&&(this.windowLeftPos=String(-1*((t.pageX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2)),this.windowTopPos=String(-1*((t.pageY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2)),this.zoomLens.css({backgroundPosition:this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=!1),this.setWindowPostition(t)),this.options.tint&&"inner"!=this.options.zoomType&&this.setTintPosition(t),"window"==this.options.zoomType&&this.setWindowPostition(t),"inner"==this.options.zoomType&&this.setWindowPostition(t),this.options.showLens&&(this.fullwidth&&"lens"!=this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos+"px",top:this.lensTopPos+"px"})))},showHideWindow:function(t){"show"!=t||this.isWindowActive||(this.options.zoomWindowFadeIn?this.zoomWindow.stop(!0,!0,!1).fadeIn(this.options.zoomWindowFadeIn):this.zoomWindow.show(),this.isWindowActive=!0),"hide"==t&&this.isWindowActive&&(this.options.zoomWindowFadeOut?this.zoomWindow.stop(!0,!0).fadeOut(this.options.zoomWindowFadeOut):this.zoomWindow.hide(),this.isWindowActive=!1)},showHideLens:function(t){"show"!=t||this.isLensActive||(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show(),this.isLensActive=!0),"hide"==t&&this.isLensActive&&(this.options.lensFadeOut?this.zoomLens.stop(!0,!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide(),this.isLensActive=!1)},showHideTint:function(t){"show"!=t||this.isTintActive||(this.options.zoomTintFadeIn?this.zoomTint.css({opacity:this.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(this.zoomTint.css({opacity:this.options.tintOpacity}).animate(),this.zoomTint.show()),this.isTintActive=!0),"hide"==t&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),this.isTintActive=!1)},setLensPostition:function(){},setWindowPostition:function(t){var o=this;if(isNaN(o.options.zoomWindowPosition))o.externalContainer=a("#"+o.options.zoomWindowPosition),o.externalContainerWidth=o.externalContainer.width(),o.externalContainerHeight=o.externalContainer.height(),o.externalContainerOffset=o.externalContainer.offset(),o.windowOffsetTop=o.externalContainerOffset.top,o.windowOffsetLeft=o.externalContainerOffset.left;else switch(o.options.zoomWindowPosition){case 1:o.windowOffsetTop=o.options.zoomWindowOffety,o.windowOffsetLeft=+o.nzWidth;break;case 2:o.options.zoomWindowHeight>o.nzHeight&&(o.windowOffsetTop=-1*(o.options.zoomWindowHeight/2-o.nzHeight/2),o.windowOffsetLeft=o.nzWidth);break;case 3:o.windowOffsetTop=o.nzHeight-o.zoomWindow.height()-2*o.options.borderSize,o.windowOffsetLeft=o.nzWidth;break;case 4:o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=o.nzWidth;break;case 5:o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=o.nzWidth-o.zoomWindow.width()-2*o.options.borderSize;break;case 6:o.options.zoomWindowHeight>o.nzHeight&&(o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=-1*(o.options.zoomWindowWidth/2-o.nzWidth/2+2*o.options.borderSize));break;case 7:o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=0;break;case 8:o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=-1*(o.zoomWindow.width()+2*o.options.borderSize);break;case 9:o.windowOffsetTop=o.nzHeight-o.zoomWindow.height()-2*o.options.borderSize,o.windowOffsetLeft=-1*(o.zoomWindow.width()+2*o.options.borderSize);break;case 10:o.options.zoomWindowHeight>o.nzHeight&&(o.windowOffsetTop=-1*(o.options.zoomWindowHeight/2-o.nzHeight/2),o.windowOffsetLeft=-1*(o.zoomWindow.width()+2*o.options.borderSize));break;case 11:o.windowOffsetTop=o.options.zoomWindowOffety,o.windowOffsetLeft=-1*(o.zoomWindow.width()+2*o.options.borderSize);break;case 12:o.windowOffsetTop=-1*(o.zoomWindow.height()+2*o.options.borderSize),o.windowOffsetLeft=-1*(o.zoomWindow.width()+2*o.options.borderSize);break;case 13:o.windowOffsetTop=-1*(o.zoomWindow.height()+2*o.options.borderSize),o.windowOffsetLeft=0;break;case 14:o.options.zoomWindowHeight>o.nzHeight&&(o.windowOffsetTop=-1*(o.zoomWindow.height()+2*o.options.borderSize),o.windowOffsetLeft=-1*(o.options.zoomWindowWidth/2-o.nzWidth/2+2*o.options.borderSize));break;case 15:o.windowOffsetTop=-1*(o.zoomWindow.height()+2*o.options.borderSize),o.windowOffsetLeft=o.nzWidth-o.zoomWindow.width()-2*o.options.borderSize;break;case 16:o.windowOffsetTop=-1*(o.zoomWindow.height()+2*o.options.borderSize),o.windowOffsetLeft=o.nzWidth;break;default:o.windowOffsetTop=o.options.zoomWindowOffety,o.windowOffsetLeft=o.nzWidth}o.isWindowSet=!0,o.windowOffsetTop+=o.options.zoomWindowOffety,o.windowOffsetLeft+=o.options.zoomWindowOffetx,o.zoomWindow.css({top:o.windowOffsetTop}),o.zoomWindow.css({left:o.windowOffsetLeft}),"inner"==o.options.zoomType&&(o.zoomWindow.css({top:0}),o.zoomWindow.css({left:0})),o.windowLeftPos=String(-1*((t.pageX-o.nzOffset.left)*o.widthRatio-o.zoomWindow.width()/2)),o.windowTopPos=String(-1*((t.pageY-o.nzOffset.top)*o.heightRatio-o.zoomWindow.height()/2)),o.Etoppos&&(o.windowTopPos=0),o.Eloppos&&(o.windowLeftPos=0),o.Eboppos&&(o.windowTopPos=-1*(o.largeHeight/o.currentZoomLevel-o.zoomWindow.height())),o.Eroppos&&(o.windowLeftPos=-1*(o.largeWidth/o.currentZoomLevel-o.zoomWindow.width())),o.fullheight&&(o.windowTopPos=0),o.fullwidth&&(o.windowLeftPos=0),"window"!=o.options.zoomType&&"inner"!=o.options.zoomType||(1==o.zoomLock&&(o.widthRatio<=1&&(o.windowLeftPos=0),o.heightRatio<=1&&(o.windowTopPos=0)),o.largeHeight<o.options.zoomWindowHeight&&(o.windowTopPos=0),o.largeWidth<o.options.zoomWindowWidth&&(o.windowLeftPos=0),o.options.easing?(o.xp||(o.xp=0),o.yp||(o.yp=0),o.loop||(o.loop=setInterval(function(){o.xp+=(o.windowLeftPos-o.xp)/o.options.easingAmount,o.yp+=(o.windowTopPos-o.yp)/o.options.easingAmount,o.scrollingLock?(clearInterval(o.loop),o.xp=o.windowLeftPos,o.yp=o.windowTopPos,o.xp=-1*((t.pageX-o.nzOffset.left)*o.widthRatio-o.zoomWindow.width()/2),o.yp=-1*((t.pageY-o.nzOffset.top)*o.heightRatio-o.zoomWindow.height()/2),o.changeBgSize&&(o.nzHeight>o.nzWidth?("lens"==o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"}),o.zoomWindow.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"})):("lens"!=o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvalueheight+"px"}),o.zoomWindow.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"})),o.changeBgSize=!1),o.zoomWindow.css({backgroundPosition:o.windowLeftPos+"px "+o.windowTopPos+"px"}),o.scrollingLock=!1,o.loop=!1):(o.changeBgSize&&(o.nzHeight>o.nzWidth?("lens"==o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"}),o.zoomWindow.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"})):("lens"!=o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"}),o.zoomWindow.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"})),o.changeBgSize=!1),o.zoomWindow.css({backgroundPosition:o.xp+"px "+o.yp+"px"}))},16))):(o.changeBgSize&&(o.nzHeight>o.nzWidth?("lens"==o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"}),o.zoomWindow.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"})):("lens"==o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"}),o.largeHeight/o.newvaluewidth<o.options.zoomWindowHeight?o.zoomWindow.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"}):o.zoomWindow.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"})),o.changeBgSize=!1),o.zoomWindow.css({backgroundPosition:o.windowLeftPos+"px "+o.windowTopPos+"px"})))},setTintPosition:function(t){this.nzOffset=this.$elem.offset(),this.tintpos=String(-1*(t.pageX-this.nzOffset.left-this.zoomLens.width()/2)),this.tintposy=String(-1*(t.pageY-this.nzOffset.top-this.zoomLens.height()/2)),this.Etoppos&&(this.tintposy=0),this.Eloppos&&(this.tintpos=0),this.Eboppos&&(this.tintposy=-1*(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize)),this.Eroppos&&(this.tintpos=-1*(this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos+"px"}),this.zoomTintImage.css({top:this.tintposy+"px"}))},swaptheimage:function(t,o){var i=this,e=new Image;i.options.loadingIcon&&(i.spinner=a("<div style=\"background: url('"+i.options.loadingIcon+"') no-repeat center;height:"+i.nzHeight+"px;width:"+i.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),i.$elem.after(i.spinner)),i.options.onImageSwap(i.$elem),e.onload=function(){i.largeWidth=e.width,i.largeHeight=e.height,i.zoomImage=o,i.zoomWindow.css({"background-size":i.largeWidth+"px "+i.largeHeight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth+"px "+i.largeHeight+"px"}),i.swapAction(t,o)},e.src=o},swapAction:function(t,o){var i,e,n=this,s=new Image;s.onload=function(){n.nzHeight=s.height,n.nzWidth=s.width,n.options.onImageSwapComplete(n.$elem),n.doneCallback()},s.src=t,n.currentZoomLevel=n.options.zoomLevel,n.options.maxZoomLevel=!1,"lens"==n.options.zoomType&&n.zoomLens.css({backgroundImage:"url('"+o+"')"}),"window"==n.options.zoomType&&n.zoomWindow.css({backgroundImage:"url('"+o+"')"}),"inner"==n.options.zoomType&&n.zoomWindow.css({backgroundImage:"url('"+o+"')"}),n.currentImage=o,n.options.imageCrossfade?(e=(i=n.$elem).clone(),n.$elem.attr("src",t),n.$elem.after(e),e.stop(!0).fadeOut(n.options.imageCrossfade,function(){a(this).remove()}),n.$elem.width("auto").removeAttr("width"),n.$elem.height("auto").removeAttr("height"),i.fadeIn(n.options.imageCrossfade),n.options.tint&&"inner"!=n.options.zoomType&&(e=(i=n.zoomTintImage).clone(),n.zoomTintImage.attr("src",o),n.zoomTintImage.after(e),e.stop(!0).fadeOut(n.options.imageCrossfade,function(){a(this).remove()}),i.fadeIn(n.options.imageCrossfade),n.zoomTint.css({height:n.$elem.height()}),n.zoomTint.css({width:n.$elem.width()})),n.zoomContainer.css("height",n.$elem.height()),n.zoomContainer.css("width",n.$elem.width()),"inner"!=n.options.zoomType||n.options.constrainType||(n.zoomWrap.parent().css("height",n.$elem.height()),n.zoomWrap.parent().css("width",n.$elem.width()),n.zoomWindow.css("height",n.$elem.height()),n.zoomWindow.css("width",n.$elem.width()))):(n.$elem.attr("src",t),n.options.tint&&(n.zoomTintImage.attr("src",o),n.zoomTintImage.attr("height",n.$elem.height()),n.zoomTintImage.css({height:n.$elem.height()}),n.zoomTint.css({height:n.$elem.height()})),n.zoomContainer.css("height",n.$elem.height()),n.zoomContainer.css("width",n.$elem.width())),n.options.imageCrossfade&&(n.zoomWrap.css("height",n.$elem.height()),n.zoomWrap.css("width",n.$elem.width())),n.options.constrainType&&("height"==n.options.constrainType&&(n.zoomContainer.css("height",n.options.constrainSize),n.zoomContainer.css("width","auto"),n.options.imageCrossfade?(n.zoomWrap.css("height",n.options.constrainSize),n.zoomWrap.css("width","auto"),n.constwidth=n.zoomWrap.width()):(n.$elem.css("height",n.options.constrainSize),n.$elem.css("width","auto"),n.constwidth=n.$elem.width()),"inner"==n.options.zoomType&&(n.zoomWrap.parent().css("height",n.options.constrainSize),n.zoomWrap.parent().css("width",n.constwidth),n.zoomWindow.css("height",n.options.constrainSize),n.zoomWindow.css("width",n.constwidth)),n.options.tint&&(n.tintContainer.css("height",n.options.constrainSize),n.tintContainer.css("width",n.constwidth),n.zoomTint.css("height",n.options.constrainSize),n.zoomTint.css("width",n.constwidth),n.zoomTintImage.css("height",n.options.constrainSize),n.zoomTintImage.css("width",n.constwidth))),"width"==n.options.constrainType&&(n.zoomContainer.css("height","auto"),n.zoomContainer.css("width",n.options.constrainSize),n.options.imageCrossfade?(n.zoomWrap.css("height","auto"),n.zoomWrap.css("width",n.options.constrainSize),n.constheight=n.zoomWrap.height()):(n.$elem.css("height","auto"),n.$elem.css("width",n.options.constrainSize),n.constheight=n.$elem.height()),"inner"==n.options.zoomType&&(n.zoomWrap.parent().css("height",n.constheight),n.zoomWrap.parent().css("width",n.options.constrainSize),n.zoomWindow.css("height",n.constheight),n.zoomWindow.css("width",n.options.constrainSize)),n.options.tint&&(n.tintContainer.css("height",n.constheight),n.tintContainer.css("width",n.options.constrainSize),n.zoomTint.css("height",n.constheight),n.zoomTint.css("width",n.options.constrainSize),n.zoomTintImage.css("height",n.constheight),n.zoomTintImage.css("width",n.options.constrainSize))))},doneCallback:function(){this.options.loadingIcon&&this.spinner.hide(),this.nzOffset=this.$elem.offset(),this.nzWidth=this.$elem.width(),this.nzHeight=this.$elem.height(),this.currentZoomLevel=this.options.zoomLevel,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"window"==this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens&&(this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var o=this;return o.gallerylist=[],o.options.gallery?a("#"+o.options.gallery+" a").each(function(){var t="";a(this).data("zoom-image")?t=a(this).data("zoom-image"):a(this).data("image")&&(t=a(this).data("image")),t==o.zoomImage?o.gallerylist.unshift({href:""+t,title:a(this).find("img").attr("title")}):o.gallerylist.push({href:""+t,title:a(this).find("img").attr("title")})}):o.gallerylist.push({href:""+o.zoomImage,title:a(this).find("img").attr("title")}),o.gallerylist},changeZoomLevel:function(t){this.scrollingLock=!0,this.newvalue=parseFloat(t).toFixed(2),newvalue=parseFloat(t).toFixed(2),maxheightnewvalue=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight),maxwidthtnewvalue=this.largeWidth/(this.options.zoomWindowWidth/this.nzWidth*this.nzWidth),"inner"!=this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/maxheightnewvalue/this.nzHeight,this.newvalueheight=maxheightnewvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/maxwidthtnewvalue/this.nzWidth,this.newvaluewidth=maxwidthtnewvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1),"lens"==this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.fullwidth=!0,this.newvaluewidth=maxheightnewvalue):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1))),"inner"==this.options.zoomType&&(maxheightnewvalue=parseFloat(this.largeHeight/this.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue>maxwidthtnewvalue?maxwidthtnewvalue:newvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1)),scrcontinue=!1,"inner"==this.options.zoomType&&(this.nzWidth>this.nzHeight&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0))),"inner"!=this.options.zoomType&&(scrcontinue=!0),scrcontinue&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({height:String(this.options.zoomWindowHeight/this.heightRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),this.options.zoomWindowWidth/this.widthRatio<=this.nzWidth&&("inner"!=this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:String(this.options.zoomWindowWidth/this.widthRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),"inner"==this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight&&(this.currentZoomLevel=this.newvaluewidth),this.nzHeight>this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth))),this.setPosition(this.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(t){"enable"==t&&(this.options.zoomEnabled=!0),"disable"==t&&(this.options.zoomEnabled=!1)}};a.fn.elevateZoom=function(o){return this.each(function(){var t=Object.create(i);t.init(o,this),a.data(this,"elevateZoom",t)})},a.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:a.noop,onZoomedImageLoaded:function(){},onImageSwap:a.noop,onImageSwapComplete:a.noop}}(jQuery,(window,document)),function(h){function n(t){var o=this;o.$element=t,t=o.$element.data("product-options"),o.options=h.extend({},{onMasterSelectChange:{updateSpecs:!0,updateVariantImagesInSwiper:!0,triggerOnPageLoad:!0},easyzoom:{loadingNotice:"",errorNotice:""},fancybox:{hash:!1,backFocus:!1,baseClass:"product-detail-popup",thumbs:{autoStart:!0,hideOnClose:!0}}},t),h.code.debug&&console.log("Init product:",o.$element,o.options),o.productImagesSwiper=h(".product-images__slider"),o.productImagesSwiperNav=h(".product-images__slider-nav"),o.$specsWrapper=o.$element.find("[data-product-specs-wrapper]"),o.$specs=o.$element.find("[data-product-specs]"),o.specs_data=o.$specs.data("product-specs"),o.productImagesSwiper.length?o.initProductSwipers():(o.initProductZoom(),o.initProductFancyboxGallery()),o.$element.on("masterSelectChange",function(t){h.code.debug&&console.log("masterSelectChange:",t.variant);t=t.variant.id;o.options.onMasterSelectChange.updateSpecs&&o.updateSpecs(t),o.options.onMasterSelectChange.updateVariantImagesInSwiper&&o.goToVariant(t)})}var s="product";n.prototype.initProductZoom=function(){var t=this;t.$element.find("[data-product-easy-zoom]").each(function(){h(this).easyZoom(t.options.easyzoom)})},n.prototype.updateSpecs=function(i){var a=this;a.$specs.length&&a.specs_data.specs&&a.specs_data.row_template&&a.specs_data.divider&&h.each(a.specs_data.specs,function(t,o){var e=o.split(a.specs_data.divider);if(e[0].split(":::")[1]==i){var n=a.specs_data.row_template,s="";return h.each(e,function(t,o){var i=e[t],t=i.split(":::")[0],i=i.split(":::")[1];"variant_id"!=t&&(s+=n.replace("[key]",t).replace("[value]",i))}),a.$specs.html(s),!1}})},n.prototype.initProductFancyboxGallery=function(){this.$element.find("[data-fancybox]").not(".swiper-slide-duplicate [data-fancybox]").fancybox(this.options.fancybox)},n.prototype.initProductSwipers=function(){var o,i=this,t={};void 0!==i.productImagesSwiperNav.data("swiper-options")?(i.productImagesSwiperNav.swiperLoader(),t={thumbs:{swiper:i.productImagesSwiperNav.find(".swiper-container:first")[0].swiper}}):(o=i.productImagesSwiperNav.find("[data-product-thumb]"),i.productImagesSwiperNav.on("click","[data-product-thumb]",function(){var t=o.index(h(this));i.productImagesSwiper.swiperLoader("goToSlide",t)})),i.productImagesSwiper.swiperLoader(t),i.swiperOptions=i.productImagesSwiper.data("swiper-options"),i.productImagesSwiperInstance=i.productImagesSwiper.find(".swiper-container:first")[0].swiper,i.options.onMasterSelectChange.triggerOnPageLoad&&(t=i.$element.find('[name="id"]').val(),i.goToVariant(t,0)),i.initProductZoom(),i.initProductFancyboxGallery()},n.prototype.goToVariant=function(e,n){var s=this;void 0!==s.productImagesSwiperInstance&&s.productImagesSwiperInstance.slides.each(function(t){var o=h(this).data("product-variant-image");if(void 0!==o)for(var i=0;i<o.length;i++){if(o[i]==e)return s.swiperOptions.loop&&--t,s.productImagesSwiper.swiperLoader("goToSlide",t,n),!1}})},h.fn.product=function(i){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=h(this),o=t.data("plugin_"+s);o?"string"==typeof i&&o[i].apply(o,e):t.data("plugin_"+s,new n(t))})}}(jQuery,(document,window)),function(n){function s(t){var o=this;o.$element=t,t=o.$element.data("product-recommendations"),o.options=n.extend({},{},t),o.requestUrl="/recommendations/products?section_id=product-recommendations&limit="+o.options.limit+"&product_id="+o.options.productId,n.code.debug&&console.log("Init productRecommendations:",o.$element,o.options,o.requestUrl),o.init()}var a="productRecommendations";s.prototype.init=function(){var o=this;n.ajax({type:"GET",url:o.requestUrl,success:function(t){t=n(t).children();o.$element.parent().replaceWith(t),o.$element=t,o.$element.find("[data-swiper-options]").swiperLoader()}})},n.fn.productRecommendations=function(i){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=n(this),o=t.data("plugin_"+a);o?"string"==typeof i&&o[i].apply(o,e):t.data("plugin_"+a,new s(t))})}}(jQuery,(document,window)),function(c){function n(t){var d=this;d.$element=t,d.xhrCount=0,t=d.$element.data("relatedProducts"),d.options=c.extend({},{view:"product-related",max:5,currentHandle:"",relatedMetaHandles:"",relatedSameCollectionHandles:"",relatedPrimaryTag:"",relatedPrimaryCollection:"",relatedSecondaryTag:"",relatedSecondaryCollection:"",columnClasses:"",wrapper:""},t),""!=d.options.relatedPrimaryCollection&&""!=d.options.relatedPrimaryTag&&(d.options.relatedPrimaryCollectionUrl="/collections/"+d.options.relatedPrimaryCollection+"/"+d.options.relatedPrimaryTag+"?view="+d.options.view),""!=d.options.relatedSecondaryCollection&&""!=d.options.relatedSecondaryTag&&(d.options.relatedSecondaryCollectionUrl="/collections/"+d.options.relatedSecondaryCollection+"/"+d.options.relatedSecondaryTag+"?view="+d.options.view);var l=[];Array.isArray(d.options.relatedMetaHandles)&&(l=d.options.relatedMetaHandles);var o,i,p=[];Array.isArray(d.options.relatedSameCollectionHandles)&&(p=d.options.relatedSameCollectionHandles),void 0!==d.options.relatedPrimaryCollectionUrl&&(o=c.ajax(d.options.relatedPrimaryCollectionUrl)),void 0!==d.options.relatedSecondaryCollectionUrl&&(i=c.ajax(d.options.relatedSecondaryCollectionUrl)),c.code.debug&&console.log("Init relatedProducts:",d.$element,d.options),d.$wrapper=c(d.options.wrapper),d.$container=d.$element.find("[data-related-products-container]"),d.$wrapper.length||(d.$wrapper=d.$element),c.when(o,i).done(function(t,o){var s=[],a=[];void 0!==t&&(s=t[0].split(",")),void 0!==o&&(a=o[0].split(","));var o=[].concat(l,s,a,p),e=[],n=[];c.each(o,function(t,o){var i=o;-1<o.indexOf("|")&&(i=o.split("|")[1]),-1==c.inArray(i,n)&&i!==d.options.currentHandle&&(n.push(i),e.push(o))});o=e.slice(0,d.options.max);c.code.debug&&(console.log("relatedProducts_Metafield "+d.options.wrapper,l),console.log("relatedProducts_PrimaryCollection "+d.options.wrapper,d.options.relatedPrimaryCollectionUrl,s),console.log("relatedProducts_SecondaryCollection "+d.options.wrapper,d.options.relatedSecondaryCollectionUrl,a),console.log("relatedProducts_SameCollection "+d.options.wrapper,p),console.log("relatedProductHandles "+d.options.wrapper,o));var h=[],i=c.map(o,function(t,o){var i="all",e=t;-1<t.indexOf("|")&&(i=(n=t.split("|"))[0],e=n[1]);var n="/collections/"+i+"/products/"+e,e="";return-1<c.inArray(t,a)&&(e="secondary collection"),-1<c.inArray(t,s)&&(e="primary collection"),-1<c.inArray(t,p)&&(e="same collection"),-1<c.inArray(t,l)&&(e="metafield"),{index:o,collectionHandle:i,relation:e,url:n}}),r=c.Deferred().resolve();c.when.apply(c,c.map(i,function(t,o){return r=r.then(function(){return o=t,i=c.Deferred(),c.ajax({url:o.url+"?view="+d.options.view,success:function(t){i.resolve(t).done(function(t){h[o.index]={index:o.index,collectionHandle:o.collectionHandle,relation:o.relation,html:t}})},error:function(t){i.reject(t)}}),i.promise();var o,i})})).done(function(){c.code.debug&&(console.log("Related products original array",i),console.log("Related products ajax response array",h)),d.$container.empty();for(var t=0;t<h.length;t++){var o=h[t];void 0!==o&&(o=c(o.html).attr("data-related-by",o.relation),d.$container.append(o))}d.render()})})}var s="relatedProducts";n.prototype.render=function(){var t,o=this;0<o.$container.children().length?(o.$wrapper.show(),(t=o.$container.closest("[data-swiper-options]")).length?(o.$container.children().addClass("swiper-slide"),t.swiperLoader()):o.$container.children().addClass(o.options.columnClasses)):o.$wrapper.remove()},c.fn.relatedProducts=function(i){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=c(this),o=t.data("plugin_"+s);o?"string"==typeof i&&o[i].apply(o,e):t.data("plugin_"+s,new n(t))})}}(jQuery,(document,window)),function(h,o){function n(t){var o=this;o.$element=t,t=o.$element.data("tabs"),o.options=h.extend({},{},t),h.code.debug&&console.log("Init tabs:",o.$element,o.options),o.init()}n.prototype.init=function(){var t,i=this;i.$tabsContent=i.$element.find("[data-tabs-content]"),i.$tabsNav=i.$element.find("[data-tabs-nav]"),i.options.create&&i.createTabs(),i.$tabsNav.on({click:function(t){t.preventDefault(),h(this).is(".is-active")||h(this).trigger("open")},open:function(){var t=h(this).data("tabs-link");i.closeActiveTab(t,i.openTab(t)),i.openTabNavLink(t)}},"[data-tabs-link]"),i.$tabsContent.on("click","[data-tabs-link]",function(t){var o=h(this).data("tabs-link");h(this).hasClass("is-active")?i.closeTab(o):i.openTab(o)}),o.location.hash?(t=o.location.hash.substring(1),i.$tabsNav.find('[data-tabs-link="'+t+'"]').trigger("open")):i.$tabsNav.find("[data-tabs-link]:first").trigger("open")},n.prototype.createTabs=function(){var a=this;a.$tabsContent.find("h2").each(function(t,o){var i=h(o).text(),e=i.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-$/,"").replace(/^-/,""),n=h(o).closest(".tabs-content-pane"),s=h('<div class="tabs-content-link" data-tabs-link="'+e+'"><span>'+i+"</span></div>");n.attr("data-tabs-content-pane",e),s.insertBefore(n),h(o).remove(),a.$tabsNav.find("ol").append('<li class="tabs__nav-item" data-tabs-link="'+e+'"><a href="#'+e+'">'+i+"</a></li>")})},n.prototype.closeActiveTab=function(t,o){var i=this.$tabsNav.find(".is-active").not('[data-tabs-link="'+t+'"]');if(i.length){i=i.data("tabs-link");if(i==t)return;this.closeTab(i),this.closeTabNavLink(i)}"function"==typeof o&&o()},n.prototype.closeTab=function(t){this.$tabsContent.find('[data-tabs-content-pane="'+t+'"]').removeClass("is-active"),this.$tabsContent.find('[data-tabs-link="'+t+'"]').removeClass("is-active")},n.prototype.closeTabNavLink=function(t){this.$tabsNav.find('[data-tabs-link="'+t+'"]').removeClass("is-active")},n.prototype.openTab=function(t){this.$tabsContent.find('[data-tabs-content-pane="'+t+'"]').addClass("is-active"),this.$tabsContent.find('[data-tabs-link="'+t+'"]').addClass("is-active")},n.prototype.openTabNavLink=function(t){this.$tabsNav.find('[data-tabs-link="'+t+'"]').addClass("is-active")},n.prototype.reset=function(){0!=this.$tabsNav.find(".is-active").length&&0!=this.$tabsContent.find(".is-active").length||(this.$element.find(".is-active").removeClass("is-active"),this.$tabsNav.find("[data-tabs-link]").first().trigger("click"))},h.fn.tabs=function(i){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=h(this),o=t.data("plugin_tabs");o?"string"==typeof i&&o[i].apply(o,e):t.data("plugin_tabs",new n(t))})}}(jQuery,(document,window)),$.code.productInit=function(){$("[data-tabs]").tabs(),$('[data-section-type="product"]').product(),$("[data-related-products]").relatedProducts(),$("[data-product-recommendations]").productRecommendations()},$.code.productInit();